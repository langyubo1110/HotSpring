
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<div class="ibox float-e-margins">
    <div class="ibox-content">
        <div class="table-responsive">

            <table id="demo" lay-filter="test"></table>

        </div>
    </div>
</div>



<script>
    layui.use(['table', 'form', 'util', 'layer'], function () {
        var table = layui.table;
        var util = layui.util;
        var layer = layui.layer;
        var id =@ViewBag.id;
        //表格渲染
        table.render({
            elem: '#demo'
            , height: 472
            , url: '/repobuy/GetListByPager/' + id //数据接口
            , page: true//开启分页
            , cols: [[ //表头
                { field: 'goods_number', title: '采购数量', sort: true,width:140 }
                , { field: 'price', title: '单价', sort: true, width: 140 }
                , { field: 'buyer', title: '采购商', sort: true }
                , { field: 'buyer_phone', title: '采购电话', sort: true }
                , { field: 'create_time', title: '采购时间', sort: true, templet: function (d) { return util.toDateString(d.create_time.replace("/Date(", "").replace(")/", ""), "yyyy-MM-dd HH:mm:ss") } }
            ]]
            , parseData: function (res) { //res 即为原始返回的数据
                return {
                    "code": 0, //解析接口状态
                    "msg": res.message, //解析提示文本
                    "count": res.count, //解析数据长度
                    "data": res.data //解析数据列表
                };
            }
        });
    })
</script>









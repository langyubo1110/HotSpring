
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<div class="ibox float-e-margins">
    <div class="ibox-content">
        <div class="table-responsive">

            <table id="demo" lay-filter="test"></table>

        </div>
    </div>
</div>



<script>
    layui.use(['table', 'form', 'util', 'layer'], function () {
        var table = layui.table;
        var util = layui.util;
        var layer = layui.layer;
        var emp_id =@ViewBag.emp_id;
        let yyyy_MM = "@ViewBag.yyyy_MM";
        //表格渲染
        table.render({
            elem: '#demo'
            , height: 472
            , url: `/employperform/getlistbypager?yyyy_MM=${yyyy_MM}&emp_id=${emp_id}` //数据接口
            , page: true//开启分页
            , cols: [[ //表头
                { field: 'start_time', title: '开始时间', sort: true, templet: function (d) { return util.toDateString(d.start_time.replace("/Date(", "").replace(")/", ""), "yyyy-MM-dd HH:mm:ss") } }
                , { field: 'end_time', title: '结束时间', sort: true, templet: function (d) { return util.toDateString(d.end_time.replace("/Date(", "").replace(")/", ""), "yyyy-MM-dd HH:mm:ss") } }
                , { field: 'confirmer', title: '确认人', sort: true,width:120 }
                , { field: 'repair_up_money', title: '提成金额', sort: true,width:120 ,templet: function (d) { return formatNumber(d.repair_up_money); } }
                , { field: 'create_time', title: '上报时间', sort: true, templet: function (d) { return util.toDateString(d.create_time.replace("/Date(", "").replace(")/", ""), "yyyy-MM-dd HH:mm:ss") } }
            ]]
            , parseData: function (res) { //res 即为原始返回的数据
                return {
                    "code": 0, //解析接口状态
                    "msg": res.message, //解析提示文本
                    "count": res.count, //解析数据长度
                    "data": res.data //解析数据列表
                };
            }
        });
    })
</script>









